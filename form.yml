---
tile:
  title: "RStudio Server"
  border_color: "light blue"
  sub_caption: "Empower Your Analysis"

cluster: "slurm"

form:
  - bc_num_gpu
  - auto_cores
  - auto_mem
  - bc_num_hours
  - bc_num_slots
  - bc_queue
  # Advanced options toggle
  - show_advanced
  - auto_qos
  - auto_conda
  # App-specific parameters below
  - conda_env
  - r_version
  - reservation




attributes:
  auto_cores:
    value: 1
    help: Cores to allocate for job.
  
  auto_mem:
    value: "2"
    help: Memory to allocate for job.
  
  bc_num_gpu:
    widget: check_box
    checked_value: 1
    unchecked_value: 0
    label: "Request a GPU (NVidia A30)"
  
  bc_num_hours:
    widget: "number_field"
    label: "Runtime [hours]"
    help: Number of hours to run
    value: 1
    min: 1
    max: 336
    step: 1
  
  bc_num_slots: 1
  
  bc_queue: "red"
  
  show_advanced:
    widget: "check_box"
    label: "Show Advanced Options"
    help: "Check to show advanced options (QoS, Conda environment, and Reservation)"
    value: 0
  
  auto_conda:
    placeholder: "Optional: Choose a local Conda env"
    label: "Conda Env (optional)"
    help: "Select a conda environment to use (optional). If selected, the environment will be available inside the container for development."
  
  auto_qos:
    value: "normal"
    help: "Default is usually fine."

  reservation:
    widget: "text_field"
    label: "Enter Reservation Name"
    value: ""
    help: "If you have a reservation, enter the reservation name here to use it for this job."

  # App-specific attributes below
  r_version:
    display: true
    widget: "select"
    label: "R/RStudio version"
    options:
      - ["Latest-ML", "ml"]
      - ["Latest", "latest"]
      - ["Latest-modified", "modified"]
      - ["R 4.4.3/RStudio 2024.12.1 Build 563", "4.4.3"]
      - ["R/RStudio 4.4.2", "4.4.2"]
      - ["R/RStudio 4.4.1", "4.4.1"]
      # - ["dontuse", "dontuse"]
    help: |
      - **Latest-ML** - Latest Rocker RStudio ML container
      - **Latest** - Latest Rocker RStudio build from [dockerhub.moffitt.org]
      - **Latest-modified** - **Latest** with some additional packages built into the image
